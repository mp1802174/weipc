# 微信公众号文章抓取工具

这是一个用于抓取微信公众号文章的Web应用程序，提供了直观的界面来管理抓取任务、凭证更新和定期抓取设置。

## 功能特点

- 立即抓取：通过Web界面一键触发文章抓取
- 更新凭证：自动更新微信公众号访问凭证
- 定期抓取：设置每日或每周定时任务，自动抓取文章
- 任务日志：查看所有任务的执行历史和结果

## 安装与运行

### 安装依赖

```bash
pip install -r requirements.txt
```

### 运行应用

```bash
python start_web.py
```

默认情况下，应用将在 http://localhost:5000 上运行。

## 使用方法

### 立即抓取

1. 访问首页
2. 在"立即抓取文章"区域，选择要抓取的公众号(可选)
3. 设置抓取数量限制(默认10篇)
4. 点击"开始抓取"按钮

### 更新凭证

1. 在"更新微信凭证"区域，点击"更新凭证"按钮
2. 系统将自动启动微信登录认证流程
3. 根据提示完成认证过程

### 设置定期抓取

1. 在"定期抓取设置"区域，选择抓取频率(每日/每周)
2. 如选择每周，需指定具体星期几
3. 设置执行时间
4. 可选择指定公众号和抓取数量限制
5. 点击"保存设置"按钮

### 查看任务日志

1. 在首页底部可查看最近的任务执行记录
2. 点击"查看全部记录"按钮可查看完整历史记录

## 配置文件

- `config/schedule.conf`: 存储定期抓取任务配置
- `logs/job_logs.json`: 存储任务执行日志

## 系统要求

- Python 3.7+
- 必要的Python库(见requirements.txt)
- 网络连接以访问微信公众号 